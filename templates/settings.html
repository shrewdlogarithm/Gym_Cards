<head>
  {% include 'head.j2' %}
  <script>
    $(document).ready(function(){
      $("#headright").show()
      $("#ad1").on("keyup",function() {
        $("#adv1").html($("#ad1").val())
      })
      $("#ad2").on("keyup",function() {
        $("#adv2").html($("#ad2").val())
      })
      $("#ad3").on("keyup",function() {
        $("#adv3").html($("#ad3").val())
      })
      $("#ad1col").on("input",function() {
        $("#ad1,#adv1").css("color",$("#ad1col").val())
      }).trigger("input")
      $("#ad2col").on("input",function() {
        $("#ad2,#adv2").css("color",$("#ad2col").val())
      }).trigger("input")
      $("#ad3col").on("input",function() {
        $("#ad3,#adv3").css("color",$("#ad3col").val())
      }).trigger("input")
      $("#uploadbutton").click(function() {
        $("#upload").click()
        $("#delpic").prop("checked",false)
      })
      $("#deletebutton").click(function() {
        $("#adpic").attr("src","")
        $("#delpic").prop("checked",true)
      })
      $("#settform").on("submit",function(e) {
        setTimeout(function() {
          $("#upload").val(null); 
        },500)
      })
    })
      
    var loadFile = function(event) {
	    var image = document.getElementById('adpic');
	    image.src = URL.createObjectURL(event.target.files[0]);
    };
  </script>
</head>
<body>
  {% include 'toplayout.j2' %}
  <div id=settings>
    <form id="settform" action=savesettings enctype=multipart/form-data target="status" method="POST">
      <P> Checkout Settings</P>
      <div>Require Card
      {% if sett["reqcard"] == "on" %}
        <input id="reqcard" name="reqcard" type="checkbox" checked>
      {% else %}
        <input id="reqcard" name="reqcard" type="checkbox">
      {% endif %}
      </div>
      <P> Ad Settings</P>
      <div>Advert 1</div>
      <input size=60 id="ad1" name="ad1" type="text" value='{{ sett["ad1"] }}'>
      <input type=color id="ad1col" name="ad1col" value="{{ sett["ad1col"] }}"><br>
      <div>Advert 2</div>
      <input size=60 id="ad2" name="ad2" type="text" value='{{ sett["ad2"] }}'>
      <input type=color id="ad2col" name="ad2col" value="{{ sett["ad2col"] }}"><br>
      <div>Advert 3</div>
      <input size=60 id="ad3" name="ad3" type="text" value='{{ sett["ad3"] }}'>
      <input type=color id="ad3col" name="ad3col" value="{{ sett["ad3col"] }}"><br>
      <div>Advert Image</div>
      <input id="upload" type="file" accept="image/gif, image/jpeg, image/png" onchange="loadFile(event)" name="image" id="file" style="display:none;">
      <input id="uploadbutton" type="button" value="Upload Ad Image">
      <input id="delpic" name="delpic" type=checkbox style="display:none">
      <input id="deletebutton" type="button" value="Delete Ad Image">
      <!-- <P> Theme Settings</P>
      Background <input type=color id="theme0" name="theme0" value="{{ sett["theme0"] }}">
      Message <input type=color id="theme1" name="theme1" value="{{ sett["theme1"] }}">
      Highlight <input type=color id="theme2" name="theme2" value="{{ sett["theme2"] }}">
      Contrast <input type=color id="theme3" name="theme3" value="{{ sett["theme3"] }}"> -->
      <!-- Short Delay <input min=1 max=5 type="number" name="dshort" value={{ sett["dshort"] }}>
      Medium Delay <input min=5 max=10 type="number" name="dmedium" value={{ sett["dmedium"] }}>
      Long Delay <input min=0 max=90 type="number" name="dlong" value={{ sett["dlong"] }}> -->
      <div>&nbsp;</div>
      <input type="submit" value="Save Changes">
    </form>
  </div>
  {% include 'bottomlayout.j2' %}
</body>
